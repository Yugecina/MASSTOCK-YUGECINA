# Server Configuration
NODE_ENV=development
PORT=3000
API_VERSION=v1

# Supabase Configuration
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# Redis Configuration (for Bull job queue)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=7d
REFRESH_TOKEN_EXPIRES_IN=30d

# Encryption Key (for encrypting API keys in database)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=your-encryption-key-64-chars-hex

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Logging
LOG_LEVEL=info
LOG_FILE_PATH=./logs/app.log

# Workflow Configuration
WORKFLOW_TIMEOUT_SECONDS=1800
WORKFLOW_MAX_RETRIES=3

# Worker Concurrency Configuration
# Number of workflow executions to process in parallel (default: 3)
# Set lower (1-2) for limited resources, higher (5-10) for more powerful servers
WORKER_CONCURRENCY=3

# Gemini API Rate Limiting (Tier 1 Paid - Dynamic per model)
# System automatically selects the appropriate limiter based on model used

# Flash models: Fast, high volume (gemini-2.5-flash-*)
# Tier 1: 500 RPM, recommended for batch processing
GEMINI_RATE_LIMIT_FLASH=500
PROMPT_CONCURRENCY_FLASH=15

# Pro models: High quality, slower (gemini-3-pro-*)
# Tier 1: 100 RPM, recommended for high-quality outputs
GEMINI_RATE_LIMIT_PRO=100
PROMPT_CONCURRENCY_PRO=10

# Rate limit time window in milliseconds (default: 60000 = 1 minute)
GEMINI_RATE_WINDOW=60000

# Free Tier Users: Uncomment and set these instead
# GEMINI_RATE_LIMIT_FLASH=15
# GEMINI_RATE_LIMIT_PRO=5
# PROMPT_CONCURRENCY_FLASH=5
# PROMPT_CONCURRENCY_PRO=3

# Admin Configuration
ADMIN_EMAIL=admin@masstock.com
ADMIN_PASSWORD=change-me-in-production

# CORS
CORS_ORIGIN=http://localhost:3001

# Deployment
RENDER_EXTERNAL_URL=https://masstock-backend.onrender.com
