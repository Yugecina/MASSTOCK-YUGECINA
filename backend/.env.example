# Server Configuration
NODE_ENV=development
PORT=3000
API_VERSION=v1

# Supabase Configuration
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# Redis Configuration (for Bull job queue)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=7d
REFRESH_TOKEN_EXPIRES_IN=30d

# Encryption Key (for encrypting API keys in database)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=your-encryption-key-64-chars-hex

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Logging
LOG_LEVEL=info
LOG_FILE_PATH=./logs/app.log

# Workflow Configuration
WORKFLOW_TIMEOUT_SECONDS=1800
WORKFLOW_MAX_RETRIES=3

# Worker Concurrency Configuration
# Number of workflow executions to process in parallel (default: 3)
# Set lower (1-2) for limited resources, higher (5-10) for more powerful servers
WORKER_CONCURRENCY=3

# ============================================
# Image Generation API Configuration (Vertex AI)
# ============================================

# Google Vertex AI Configuration
# Higher quotas: 1000+ RPM Flash, 500+ RPM Pro
# Requires Google Cloud project setup

# Google Cloud Project ID (find in Google Cloud Console)
GOOGLE_CLOUD_PROJECT=your-project-id

# Path to Service Account JSON key file
# Generate at: https://console.cloud.google.com/iam-admin/serviceaccounts
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json

# Vertex AI Rate Limiting
# Conservative defaults - can be increased based on your quota
VERTEX_RATE_LIMIT_FLASH=1000
VERTEX_RATE_LIMIT_PRO=500
VERTEX_PROMPT_CONCURRENCY_FLASH=30
VERTEX_PROMPT_CONCURRENCY_PRO=20

# Vertex AI Capacity: 500 RPM Pro â†’ ~100+ active users

# Admin Configuration
ADMIN_EMAIL=admin@masstock.com
ADMIN_PASSWORD=change-me-in-production

# CORS (must match frontend URL exactly, NO trailing slash)
# Development: http://localhost:5173 (Vite default port)
# Production: https://yourdomain.com (NEVER use '*' in production)
CORS_ORIGIN=http://localhost:5173

# Deployment
RENDER_EXTERNAL_URL=https://masstock-backend.onrender.com
